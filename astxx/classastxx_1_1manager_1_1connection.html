<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Astxx: astxx::manager::connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Astxx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>astxx</b></li><li class="navelem"><b>manager</b></li><li class="navelem"><a class="el" href="classastxx_1_1manager_1_1connection.html">connection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classastxx_1_1manager_1_1connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">astxx::manager::connection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="connection_8h_source.html">connection.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a74dfff0c8ddacec2dec9ddbc7a1ca5b6"><td class="memItemLeft" align="right" valign="top"><a id="a74dfff0c8ddacec2dec9ddbc7a1ca5b6"></a>
typedef boost::function&lt; void(<a class="el" href="message_8h.html#a3594b33b90dcd09381db92571c60e1ae">message::response</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>response_handler_t</b></td></tr>
<tr class="separator:a74dfff0c8ddacec2dec9ddbc7a1ca5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36f7d0b8cbbbf5a3fce3d1b1ff1e56e"><td class="memItemLeft" align="right" valign="top"><a id="ae36f7d0b8cbbbf5a3fce3d1b1ff1e56e"></a>
typedef boost::function&lt; void(<a class="el" href="message_8h.html#a11d345ca9a7a5cdcab8096ada239baf2">message::event</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>event_handler_t</b></td></tr>
<tr class="separator:ae36f7d0b8cbbbf5a3fce3d1b1ff1e56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0494912361f60fc3f9fe38afdc336a"><td class="memItemLeft" align="right" valign="top"><a id="a5a0494912361f60fc3f9fe38afdc336a"></a>
typedef std::queue&lt; <a class="el" href="message_8h.html#a11d345ca9a7a5cdcab8096ada239baf2">message::event</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>events_t</b></td></tr>
<tr class="separator:a5a0494912361f60fc3f9fe38afdc336a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8609b5c62b63c9e5b2f22d829bb427"><td class="memItemLeft" align="right" valign="top"><a id="ace8609b5c62b63c9e5b2f22d829bb427"></a>
typedef std::queue&lt; <a class="el" href="message_8h.html#a3594b33b90dcd09381db92571c60e1ae">message::response</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>responses_t</b></td></tr>
<tr class="separator:ace8609b5c62b63c9e5b2f22d829bb427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb3c5e1c623404bba27bd5611b33743"><td class="memItemLeft" align="right" valign="top"><a id="aefb3c5e1c623404bba27bd5611b33743"></a>
typedef std::queue&lt; response_handler_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>response_handlers_t</b></td></tr>
<tr class="separator:aefb3c5e1c623404bba27bd5611b33743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07da877010918eceb2dc461f2a3ea899"><td class="memItemLeft" align="right" valign="top"><a id="a07da877010918eceb2dc461f2a3ea899"></a>
typedef std::map&lt; std::string, boost::shared_ptr&lt; boost::signals2::signal&lt; void(<a class="el" href="message_8h.html#a11d345ca9a7a5cdcab8096ada239baf2">message::event</a>)&gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>event_handlers_t</b></td></tr>
<tr class="separator:a07da877010918eceb2dc461f2a3ea899"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aebf77613aa0cfe3e9b662d8b5f8ce071"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a> (const std::string &amp;host, unsigned short port=5038)</td></tr>
<tr class="separator:aebf77613aa0cfe3e9b662d8b5f8ce071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3966236952f40952ed560737fc8ca192"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a3966236952f40952ed560737fc8ca192">connect</a> (const std::string &amp;host=&quot;&quot;, unsigned short port=0)</td></tr>
<tr class="separator:a3966236952f40952ed560737fc8ca192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfd168cb1adcbbcdab525021e1fe0e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a2dfd168cb1adcbbcdab525021e1fe0e5">disconnect</a> ()</td></tr>
<tr class="separator:a2dfd168cb1adcbbcdab525021e1fe0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476befea1105bec61e3407a94d031d72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a476befea1105bec61e3407a94d031d72">is_connected</a> () const</td></tr>
<tr class="separator:a476befea1105bec61e3407a94d031d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80407c5e9c258851d01062bd14ccd75c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a80407c5e9c258851d01062bd14ccd75c">name</a> () const</td></tr>
<tr class="separator:a80407c5e9c258851d01062bd14ccd75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5788f04b37add78069d390d83735174"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174">version</a> () const</td></tr>
<tr class="separator:ad5788f04b37add78069d390d83735174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c90eff188f3ec03d37b50831de9c4db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message_8h.html#a3594b33b90dcd09381db92571c60e1ae">message::response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db">send_action</a> (const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;command)</td></tr>
<tr class="separator:a9c90eff188f3ec03d37b50831de9c4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4229cd2359e8b6b3a5e67d5275473a3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a">send_action_async</a> (const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;command, response_handler_t handler)</td></tr>
<tr class="separator:a4229cd2359e8b6b3a5e67d5275473a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f8dac457dda6c4bde05d1d3ad37510"><td class="memItemLeft" align="right" valign="top"><a class="el" href="message_8h.html#a3594b33b90dcd09381db92571c60e1ae">message::response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510">operator()</a> (const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;command)</td></tr>
<tr class="separator:a80f8dac457dda6c4bde05d1d3ad37510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324085e5a390e5d37609b6a051e177ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a324085e5a390e5d37609b6a051e177ff">operator()</a> (const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;command, response_handler_t handler)</td></tr>
<tr class="separator:a324085e5a390e5d37609b6a051e177ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0549b9971efbd2bcf4cb8a6adf6f6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a0a0549b9971efbd2bcf4cb8a6adf6f6a">process_events</a> ()</td></tr>
<tr class="separator:a0a0549b9971efbd2bcf4cb8a6adf6f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4844f9c462302f3a676b936e8667e80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#ad4844f9c462302f3a676b936e8667e80">wait_event</a> ()</td></tr>
<tr class="separator:ad4844f9c462302f3a676b936e8667e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff8f8d4a6ad70289bc62d30793f75ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#acff8f8d4a6ad70289bc62d30793f75ff">process_responses</a> ()</td></tr>
<tr class="separator:acff8f8d4a6ad70289bc62d30793f75ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a129810315522ed4ca442d7af79cb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#ae1a129810315522ed4ca442d7af79cb4">wait_response</a> ()</td></tr>
<tr class="separator:ae1a129810315522ed4ca442d7af79cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190704904717bbc4fb20f82f24f64c36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a190704904717bbc4fb20f82f24f64c36">pump_messages</a> ()</td></tr>
<tr class="separator:a190704904717bbc4fb20f82f24f64c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ea451cb3b71f21becde229e9e8cb31"><td class="memItemLeft" align="right" valign="top">boost::signals2::connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classastxx_1_1manager_1_1connection.html#a80ea451cb3b71f21becde229e9e8cb31">register_event</a> (const std::string &amp;e, boost::function&lt; void(<a class="el" href="message_8h.html#a11d345ca9a7a5cdcab8096ada239baf2">message::event</a>)&gt; f)</td></tr>
<tr class="separator:a80ea451cb3b71f21becde229e9e8cb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An Asterisk Manager connection.</p>
<p>This class is the main point of access to the manager API. Once connected you can send commands to and read events from Asterisk.</p>
<p>Commands can be sent using the <a class="el" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db">connection::send_action()</a> or <a class="el" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a">connection::send_action_async()</a> function. The <a class="el" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db">connection::send_action()</a> function blocks and waits for asterisk to send a response before returning. The '()' operator is overloaded to behave as both of these functions depending on which arguments are passed to it.</p>
<div class="fragment"><div class="line">action::logoff logoff;</div><div class="line">message::response r = logoff(<a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>); <span class="comment">// action::logoff will throw</span></div><div class="line">                                          <span class="comment">// exceptions for &#39;Error&#39;</span></div><div class="line">                                          <span class="comment">// responses from Asterisk</span></div></div><!-- fragment --><div class="fragment"><div class="line">message::response r = <a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>(action::logoff()); <span class="comment">// no processing</span></div><div class="line">                                                    <span class="comment">// of the response</span></div><div class="line">                                                    <span class="comment">// will be done</span></div></div><!-- fragment --><div class="fragment"><div class="line">async_response_handler handler();</div><div class="line">action::logoff logoff;</div><div class="line"><a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>(logoff, handler);</div></div><!-- fragment --><p>To recieve events you must register an event handler (via <a class="el" href="classastxx_1_1manager_1_1connection.html#a80ea451cb3b71f21becde229e9e8cb31">connection::register_event()</a>) then trigger the handler by calling <a class="el" href="classastxx_1_1manager_1_1connection.html#a0a0549b9971efbd2bcf4cb8a6adf6f6a">connection::process_events()</a> (optionally after <a class="el" href="classastxx_1_1manager_1_1connection.html#ad4844f9c462302f3a676b936e8667e80">connection::wait_event()</a> which will wait for an event and put it in the event queue if the queue is empty). The handler can be a function, functor, or member function that takes message::event object as a parameter. To unregister an event use the boost::signals::connection::disconnect() method from the boost::signals::connection object returned by <a class="el" href="classastxx_1_1manager_1_1connection.html#a80ea451cb3b71f21becde229e9e8cb31">connection::register_event()</a>.</p>
<p>Your main application loop could look something like this: </p><div class="fragment"><div class="line"><a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>.wait_event();</div><div class="line"><a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>.pump_messages();</div><div class="line"><a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>.process_events();</div><div class="line"></div><div class="line"><a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>.process_responses(); <span class="comment">// if you are sending actions asychronously.</span></div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>This library is not thread safe. Only one thread of execution should call functions in the library at a time. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aebf77613aa0cfe3e9b662d8b5f8ce071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf77613aa0cfe3e9b662d8b5f8ce071">&#9670;&nbsp;</a></span>connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">astxx::manager::connection::connection </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>port</em> = <code>5038</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initilize a connection to the given host on the given port. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>the host to connect to </td></tr>
    <tr><td class="paramname">port</td><td>the port to connect on </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">boost::system::system_error</td><td>if there is a problem connecting to or resolving a host </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_aebf77613aa0cfe3e9b662d8b5f8ce071_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_aebf77613aa0cfe3e9b662d8b5f8ce071_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_aebf77613aa0cfe3e9b662d8b5f8ce071_cgraph" id="classastxx_1_1manager_1_1connection_aebf77613aa0cfe3e9b662d8b5f8ce071_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#a3966236952f40952ed560737fc8ca192" title="astxx::manager::connection\l::connect" alt="" coords="236,5,419,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3966236952f40952ed560737fc8ca192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3966236952f40952ed560737fc8ca192">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::connect </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>host</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>port</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect to the given host on the given port. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>the host to connect to </td></tr>
    <tr><td class="paramname">port</td><td>the port to connect on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If host is not given, the host and port given on construction will be used. If port is not given, the port given on construction wll be used. In order for the given port to be used, host must be specified.</dd></dl>
<p>Calling this function will disconnect any existing connections.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">boost::system::system_error</td><td>if there is a problem connecting to or resolving a host </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a3966236952f40952ed560737fc8ca192_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a3966236952f40952ed560737fc8ca192_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a3966236952f40952ed560737fc8ca192_icgraph" id="classastxx_1_1manager_1_1connection_a3966236952f40952ed560737fc8ca192_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071" title="astxx::manager::connection\l::connection" alt="" coords="236,5,419,47"/>
</map>
</div>

</div>
</div>
<a id="a2dfd168cb1adcbbcdab525021e1fe0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dfd168cb1adcbbcdab525021e1fe0e5">&#9670;&nbsp;</a></span>disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close our connection to Asterisk. </p><dl class="section note"><dt>Note</dt><dd>Upon destruction the connection to the manager should be properly closed automatically. </dd></dl>

</div>
</div>
<a id="a476befea1105bec61e3407a94d031d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476befea1105bec61e3407a94d031d72">&#9670;&nbsp;</a></span>is_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool astxx::manager::connection::is_connected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if we are connected. </p><dl class="section return"><dt>Returns</dt><dd>whether we are connected or not </dd></dl>

</div>
</div>
<a id="a80407c5e9c258851d01062bd14ccd75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80407c5e9c258851d01062bd14ccd75c">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string astxx::manager::connection::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the name of the manager we are connected to. </p>

</div>
</div>
<a id="a80f8dac457dda6c4bde05d1d3ad37510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80f8dac457dda6c4bde05d1d3ad37510">&#9670;&nbsp;</a></span>operator()() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message_8h.html#a3594b33b90dcd09381db92571c60e1ae">message::response</a> astxx::manager::connection::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a command to Asterisk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>the command to send</td></tr>
  </table>
  </dd>
</dl>
<p>This function executes <a class="el" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db">connection::send_action()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_cgraph" id="classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db" title="astxx::manager::connection\l::send_action" alt="" coords="236,153,419,195"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a" title="astxx::manager::connection\l::send_action_async" alt="" coords="467,104,649,145"/>
<area shape="rect" id="node7" href="classastxx_1_1manager_1_1response__waiter.html#a2460bda7f12e2b486040e4c1d99b50da" title="astxx::manager::response\l_waiter::wait" alt="" coords="471,201,645,243"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1basic__action.html#afd78b5651443ac957fdbc9581caa620d" title="astxx::manager::basic\l_action::action" alt="" coords="713,5,864,47"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1basic__action.html#a5bc367cbe3dc128ed5bd8de2f2d38ef8" title="astxx::manager::basic\l_action::action_id" alt="" coords="713,71,864,112"/>
<area shape="rect" id="node6" href="classastxx_1_1manager_1_1message_1_1basic__message.html#aabc8e974b6e293a6c76e030f1e32c5eb" title="astxx::manager::message\l::basic_message::format" alt="" coords="702,136,875,177"/>
<area shape="rect" id="node8" href="classastxx_1_1manager_1_1connection.html#ae1a129810315522ed4ca442d7af79cb4" title="astxx::manager::connection\l::wait_response" alt="" coords="697,201,880,243"/>
<area shape="rect" id="node9" href="classastxx_1_1manager_1_1connection.html#acff8f8d4a6ad70289bc62d30793f75ff" title="astxx::manager::connection\l::process_responses" alt="" coords="697,267,880,308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_icgraph" id="classastxx_1_1manager_1_1connection_a80f8dac457dda6c4bde05d1d3ad37510_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="236,5,419,47"/>
</map>
</div>

</div>
</div>
<a id="a324085e5a390e5d37609b6a051e177ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324085e5a390e5d37609b6a051e177ff">&#9670;&nbsp;</a></span>operator()() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">response_handler_t&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a command to Asterisk and recieve the response asynchronously. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>the command to send </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function/functor</td></tr>
  </table>
  </dd>
</dl>
<p>This function executes <a class="el" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a">connection::send_action_async()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a324085e5a390e5d37609b6a051e177ff_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a324085e5a390e5d37609b6a051e177ff_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a324085e5a390e5d37609b6a051e177ff_cgraph" id="classastxx_1_1manager_1_1connection_a324085e5a390e5d37609b6a051e177ff_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a" title="astxx::manager::connection\l::send_action_async" alt="" coords="236,71,419,112"/>
<area shape="rect" id="node6" href="classastxx_1_1manager_1_1message_1_1basic__message.html#a94e84adc5060b56bdb4a6058d8c5787a" title="astxx::manager::message\l::basic_message::insert" alt="" coords="241,136,414,177"/>
<area shape="rect" id="node7" href="classastxx_1_1manager_1_1connection.html#ae1a129810315522ed4ca442d7af79cb4" title="astxx::manager::connection\l::wait_response" alt="" coords="236,201,419,243"/>
<area shape="rect" id="node8" href="classastxx_1_1manager_1_1connection.html#ad4844f9c462302f3a676b936e8667e80" title="astxx::manager::connection\l::wait_event" alt="" coords="236,267,419,308"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1basic__action.html#afd78b5651443ac957fdbc9581caa620d" title="astxx::manager::basic\l_action::action" alt="" coords="478,5,629,47"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1basic__action.html#a5bc367cbe3dc128ed5bd8de2f2d38ef8" title="astxx::manager::basic\l_action::action_id" alt="" coords="478,71,629,112"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1message_1_1basic__message.html#aabc8e974b6e293a6c76e030f1e32c5eb" title="astxx::manager::message\l::basic_message::format" alt="" coords="467,136,640,177"/>
</map>
</div>

</div>
</div>
<a id="a0a0549b9971efbd2bcf4cb8a6adf6f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0549b9971efbd2bcf4cb8a6adf6f6a">&#9670;&nbsp;</a></span>process_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::process_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process all the events in the queue. This function executes all the registered event handlers that match events in the queue. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_cgraph" id="classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1message_1_1basic__message.html#a28a28eb1747f7234331f1c757c698e5d" title="astxx::manager::message\l::basic_message::main\l_header" alt="" coords="236,5,409,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_icgraph" id="classastxx_1_1manager_1_1connection_a0a0549b9971efbd2bcf4cb8a6adf6f6a_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="236,5,419,47"/>
</map>
</div>

</div>
</div>
<a id="acff8f8d4a6ad70289bc62d30793f75ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff8f8d4a6ad70289bc62d30793f75ff">&#9670;&nbsp;</a></span>process_responses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::process_responses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process asynchronous responses. This function executes handlers for responses waiting.</p>
<p>This function is called by <a class="el" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db">connection::send_action()</a> while waiting for a response. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_acff8f8d4a6ad70289bc62d30793f75ff_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_acff8f8d4a6ad70289bc62d30793f75ff_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_acff8f8d4a6ad70289bc62d30793f75ff_icgraph" id="classastxx_1_1manager_1_1connection_acff8f8d4a6ad70289bc62d30793f75ff_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="919,27,1101,68"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1response__waiter.html#a2460bda7f12e2b486040e4c1d99b50da" title="astxx::manager::response\l_waiter::wait" alt="" coords="236,35,409,76"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db" title="astxx::manager::connection\l::send_action" alt="" coords="457,35,640,76"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510" title="astxx::manager::connection\l::operator()" alt="" coords="688,85,871,127"/>
</map>
</div>

</div>
</div>
<a id="a190704904717bbc4fb20f82f24f64c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190704904717bbc4fb20f82f24f64c36">&#9670;&nbsp;</a></span>pump_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::pump_messages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read messages from the network until there is no more data waiting. This function does not block. It reads messages from the network until there are no more waiting and places them in the proper queues. If there are no messages waiting it will simply return. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a190704904717bbc4fb20f82f24f64c36_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a190704904717bbc4fb20f82f24f64c36_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a190704904717bbc4fb20f82f24f64c36_icgraph" id="classastxx_1_1manager_1_1connection_a190704904717bbc4fb20f82f24f64c36_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="236,5,419,47"/>
</map>
</div>

</div>
</div>
<a id="a80ea451cb3b71f21becde229e9e8cb31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ea451cb3b71f21becde229e9e8cb31">&#9670;&nbsp;</a></span>register_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::signals2::connection astxx::manager::connection::register_event </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::function&lt; void(<a class="el" href="message_8h.html#a11d345ca9a7a5cdcab8096ada239baf2">message::event</a>)&gt;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register an event handler. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>the name of the event (case sensitive, use a blank string to match all events) </td></tr>
    <tr><td class="paramname">f</td><td>the callback function pointer or functor</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to register an event handler. The name of the event passed here is case sensitive and must match exactly what Asterisk will return. Pass a blank string to match all events.</p>
<p>The event handler can be unregistered using the boost::signals::connection object that is returned.</p>
<p>The signature of the handler should be: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> event_handler(message::event e); <span class="comment">// e is the event</span></div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="classastxx_1_1manager_1_1connection.html#a0a0549b9971efbd2bcf4cb8a6adf6f6a">connection::process_events()</a> </dd>
<dd>
<a class="el" href="classastxx_1_1manager_1_1connection.html#ad4844f9c462302f3a676b936e8667e80">connection::wait_event()</a> </dd>
<dd>
<a class="el" href="classastxx_1_1manager_1_1connection.html#a190704904717bbc4fb20f82f24f64c36">connection::pump_messages()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>a boost::signals::connection object that can be used to manager this event handler </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a80ea451cb3b71f21becde229e9e8cb31_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a80ea451cb3b71f21becde229e9e8cb31_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a80ea451cb3b71f21becde229e9e8cb31_icgraph" id="classastxx_1_1manager_1_1connection_a80ea451cb3b71f21becde229e9e8cb31_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="236,5,419,47"/>
</map>
</div>

</div>
</div>
<a id="a9c90eff188f3ec03d37b50831de9c4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c90eff188f3ec03d37b50831de9c4db">&#9670;&nbsp;</a></span>send_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="message_8h.html#a3594b33b90dcd09381db92571c60e1ae">message::response</a> astxx::manager::connection::send_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a command to Asterisk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>the command to send</td></tr>
  </table>
  </dd>
</dl>
<p>This function sends a command to Asterisk and also waits for a response which is then returned.</p>
<p>If error handling is desired, pass the result of this function to <a class="el" href="classastxx_1_1manager_1_1basic__action.html#ab183a78c04b178b566060e7033f87050">basic_action::handle_response()</a> which will throw exceptions for most errors the manager returns. The <a class="el" href="classastxx_1_1manager_1_1basic__action.html#ae3519d397a484c3f3d92ae580c4c9cc3">basic_action::operator()()</a> function does this automatically.</p>
<div class="fragment"><div class="line">action::example example;</div><div class="line">message::response r = example(<a class="code" href="classastxx_1_1manager_1_1connection.html#aebf77613aa0cfe3e9b662d8b5f8ce071">connection</a>); <span class="comment">// send this action over</span></div><div class="line">                                           <span class="comment">// &quot;connection&quot; and handle</span></div><div class="line">                                           <span class="comment">// errors before returning</span></div><div class="line">                                           <span class="comment">// the response</span></div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>This function blocks while waiting for a response.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classastxx_1_1manager_1_1connection.html#a324085e5a390e5d37609b6a051e177ff">connection::operator()(const basic_action&amp;, response_handler_t)</a> </dd>
<dd>
<a class="el" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510">connection::operator()(const basic_action&amp;)</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the response from asterisk </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_cgraph" id="classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a" title="astxx::manager::connection\l::send_action_async" alt="" coords="236,104,419,145"/>
<area shape="rect" id="node6" href="classastxx_1_1manager_1_1response__waiter.html#a2460bda7f12e2b486040e4c1d99b50da" title="astxx::manager::response\l_waiter::wait" alt="" coords="241,201,414,243"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1basic__action.html#afd78b5651443ac957fdbc9581caa620d" title="astxx::manager::basic\l_action::action" alt="" coords="483,5,633,47"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1basic__action.html#a5bc367cbe3dc128ed5bd8de2f2d38ef8" title="astxx::manager::basic\l_action::action_id" alt="" coords="483,71,633,112"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1message_1_1basic__message.html#aabc8e974b6e293a6c76e030f1e32c5eb" title="astxx::manager::message\l::basic_message::format" alt="" coords="471,136,645,177"/>
<area shape="rect" id="node7" href="classastxx_1_1manager_1_1connection.html#ae1a129810315522ed4ca442d7af79cb4" title="astxx::manager::connection\l::wait_response" alt="" coords="467,201,649,243"/>
<area shape="rect" id="node8" href="classastxx_1_1manager_1_1connection.html#acff8f8d4a6ad70289bc62d30793f75ff" title="astxx::manager::connection\l::process_responses" alt="" coords="467,267,649,308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_icgraph" id="classastxx_1_1manager_1_1connection_a9c90eff188f3ec03d37b50831de9c4db_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="467,5,649,47"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510" title="astxx::manager::connection\l::operator()" alt="" coords="236,35,419,76"/>
</map>
</div>

</div>
</div>
<a id="a4229cd2359e8b6b3a5e67d5275473a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4229cd2359e8b6b3a5e67d5275473a3a">&#9670;&nbsp;</a></span>send_action_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::send_action_async </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classastxx_1_1manager_1_1basic__action.html">manager::basic_action</a> &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">response_handler_t&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a command to Asterisk and recieve the response asynchronously. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>the command to send </td></tr>
    <tr><td class="paramname">handler</td><td>the handler function/functor</td></tr>
  </table>
  </dd>
</dl>
<p>This function sends a command to Asterisk and then returns. The given handler will be called with the response to this action when it is recieved.</p>
<p>The handler function pointer/functor will be copied unless you use boost::ref to prevent it. You can use boost::bind to pass member functions as response handlers.</p>
<p>The signature of the handler should be: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> response_handler(message::response r); <span class="comment">// r is the response</span></div></div><!-- fragment --><p>The <a class="el" href="classastxx_1_1manager_1_1connection.html#acff8f8d4a6ad70289bc62d30793f75ff">connection::process_responses()</a> function triggers response handler execution. See its documentation for circumstances when it will be called.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db">connection::send_action()</a> </dd>
<dd>
<a class="el" href="classastxx_1_1manager_1_1connection.html#a324085e5a390e5d37609b6a051e177ff">connection::operator()(const basic_action&amp;, response_handler_t)</a> </dd>
<dd>
<a class="el" href="classastxx_1_1manager_1_1connection.html#acff8f8d4a6ad70289bc62d30793f75ff">connection::process_responses()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the response from asterisk </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_cgraph" id="classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1basic__action.html#afd78b5651443ac957fdbc9581caa620d" title="astxx::manager::basic\l_action::action" alt="" coords="247,5,398,47"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1basic__action.html#a5bc367cbe3dc128ed5bd8de2f2d38ef8" title="astxx::manager::basic\l_action::action_id" alt="" coords="247,71,398,112"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1message_1_1basic__message.html#aabc8e974b6e293a6c76e030f1e32c5eb" title="astxx::manager::message\l::basic_message::format" alt="" coords="236,136,409,177"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_icgraph" id="classastxx_1_1manager_1_1connection_a4229cd2359e8b6b3a5e67d5275473a3a_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="697,19,880,60"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db" title="astxx::manager::connection\l::send_action" alt="" coords="236,27,419,68"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1connection.html#a324085e5a390e5d37609b6a051e177ff" title="astxx::manager::connection\l::operator()" alt="" coords="236,92,419,134"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510" title="astxx::manager::connection\l::operator()" alt="" coords="467,78,649,119"/>
</map>
</div>

</div>
</div>
<a id="ad5788f04b37add78069d390d83735174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5788f04b37add78069d390d83735174">&#9670;&nbsp;</a></span>version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string astxx::manager::connection::version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the version string for the manager we are connected to. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_ad5788f04b37add78069d390d83735174_cgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_ad5788f04b37add78069d390d83735174_cgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_ad5788f04b37add78069d390d83735174_cgraph" id="classastxx_1_1manager_1_1connection_ad5788f04b37add78069d390d83735174_cgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db" title="astxx::manager::connection\l::send_action" alt="" coords="467,197,649,239"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1connection.html#a4229cd2359e8b6b3a5e67d5275473a3a" title="astxx::manager::connection\l::send_action_async" alt="" coords="697,77,880,119"/>
<area shape="rect" id="node8" href="classastxx_1_1manager_1_1connection.html#ae1a129810315522ed4ca442d7af79cb4" title="astxx::manager::connection\l::wait_response" alt="" coords="928,201,1111,243"/>
<area shape="rect" id="node9" href="classastxx_1_1manager_1_1connection.html#acff8f8d4a6ad70289bc62d30793f75ff" title="astxx::manager::connection\l::process_responses" alt="" coords="928,285,1111,327"/>
<area shape="rect" id="node10" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510" title="astxx::manager::connection\l::operator()" alt="" coords="236,195,419,236"/>
<area shape="rect" id="node11" href="classastxx_1_1manager_1_1connection.html#a0a0549b9971efbd2bcf4cb8a6adf6f6a" title="astxx::manager::connection\l::process_events" alt="" coords="236,363,419,404"/>
<area shape="rect" id="node13" href="classastxx_1_1manager_1_1connection.html#ad4844f9c462302f3a676b936e8667e80" title="astxx::manager::connection\l::wait_event" alt="" coords="236,428,419,469"/>
<area shape="rect" id="node14" href="classastxx_1_1manager_1_1connection.html#a190704904717bbc4fb20f82f24f64c36" title="astxx::manager::connection\l::pump_messages" alt="" coords="236,493,419,535"/>
<area shape="rect" id="node15" href="classastxx_1_1manager_1_1connection.html#a80ea451cb3b71f21becde229e9e8cb31" title="astxx::manager::connection\l::register_event" alt="" coords="236,559,419,600"/>
<area shape="rect" id="node7" href="classastxx_1_1manager_1_1response__waiter.html#a2460bda7f12e2b486040e4c1d99b50da" title="astxx::manager::response\l_waiter::wait" alt="" coords="702,201,875,243"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1basic__action.html#afd78b5651443ac957fdbc9581caa620d" title="astxx::manager::basic\l_action::action" alt="" coords="944,5,1095,47"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1basic__action.html#a5bc367cbe3dc128ed5bd8de2f2d38ef8" title="astxx::manager::basic\l_action::action_id" alt="" coords="944,71,1095,112"/>
<area shape="rect" id="node6" href="classastxx_1_1manager_1_1message_1_1basic__message.html#aabc8e974b6e293a6c76e030f1e32c5eb" title="astxx::manager::message\l::basic_message::format" alt="" coords="933,136,1106,177"/>
<area shape="rect" id="node12" href="classastxx_1_1manager_1_1message_1_1basic__message.html#a28a28eb1747f7234331f1c757c698e5d" title="astxx::manager::message\l::basic_message::main\l_header" alt="" coords="471,362,645,418"/>
</map>
</div>

</div>
</div>
<a id="ad4844f9c462302f3a676b936e8667e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4844f9c462302f3a676b936e8667e80">&#9670;&nbsp;</a></span>wait_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::wait_event </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for an event and put it in the queue. This function waits for an event. </p><dl class="section note"><dt>Note</dt><dd>If there is alreay an event waiting, this function will not block. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_ad4844f9c462302f3a676b936e8667e80_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_ad4844f9c462302f3a676b936e8667e80_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_ad4844f9c462302f3a676b936e8667e80_icgraph" id="classastxx_1_1manager_1_1connection_ad4844f9c462302f3a676b936e8667e80_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="236,5,419,47"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1connection.html#a324085e5a390e5d37609b6a051e177ff" title="astxx::manager::connection\l::operator()" alt="" coords="236,71,419,112"/>
</map>
</div>

</div>
</div>
<a id="ae1a129810315522ed4ca442d7af79cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a129810315522ed4ca442d7af79cb4">&#9670;&nbsp;</a></span>wait_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void astxx::manager::connection::wait_response </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for a response and puts it in the queue. This function waits for a response. </p><dl class="section note"><dt>Note</dt><dd>If there is alreay a response waiting, this function will not block. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classastxx_1_1manager_1_1connection_ae1a129810315522ed4ca442d7af79cb4_icgraph.png" border="0" usemap="#classastxx_1_1manager_1_1connection_ae1a129810315522ed4ca442d7af79cb4_icgraph" alt=""/></div>
<map name="classastxx_1_1manager_1_1connection_ae1a129810315522ed4ca442d7af79cb4_icgraph" id="classastxx_1_1manager_1_1connection_ae1a129810315522ed4ca442d7af79cb4_icgraph">
<area shape="rect" id="node2" href="classastxx_1_1manager_1_1connection.html#ad5788f04b37add78069d390d83735174" title="astxx::manager::connection\l::version" alt="" coords="928,24,1111,66"/>
<area shape="rect" id="node3" href="classastxx_1_1manager_1_1response__waiter.html#a2460bda7f12e2b486040e4c1d99b50da" title="astxx::manager::response\l_waiter::wait" alt="" coords="241,32,414,74"/>
<area shape="rect" id="node6" href="classastxx_1_1manager_1_1connection.html#a324085e5a390e5d37609b6a051e177ff" title="astxx::manager::connection\l::operator()" alt="" coords="236,98,419,139"/>
<area shape="rect" id="node4" href="classastxx_1_1manager_1_1connection.html#a9c90eff188f3ec03d37b50831de9c4db" title="astxx::manager::connection\l::send_action" alt="" coords="467,32,649,74"/>
<area shape="rect" id="node5" href="classastxx_1_1manager_1_1connection.html#a80f8dac457dda6c4bde05d1d3ad37510" title="astxx::manager::connection\l::operator()" alt="" coords="697,83,880,124"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/manager/<a class="el" href="connection_8h_source.html">connection.h</a></li>
<li>src/connection.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
